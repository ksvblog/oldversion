{{- $isVerbatim := true -}}
{{- if isset .Attributes "verbatim" -}}
  {{- $isVerbatim = .Attributes.verbatim -}}
{{- end -}}
<div class="w-full my-2">
  <div class="shadow-lg text-gray-100 text-sm subpixel-antialiased bg-gray-800 rounded-lg leading-normal overflow-hidden">
    <div class="flex items-center px-4 py-2">
      {{- with .Attributes.title }}
        <div class="grow">{{- if $isVerbatim -}}{{ . }}{{- else -}}<span>{{ . }}</span>{{- end -}}</div>
      {{- end }}
      <div class="flex flex-row-reverse">
        <div class="ml-2 h-3 w-3 bg-red-500 rounded-full"></div>
        <div class="ml-2 h-3 w-3 bg-orange-300 rounded-full"></div>
        <div class="h-3 w-3 bg-green-500 rounded-full"></div>
      </div>
    </div>
    {{- if transform.CanHighlight .Type }}
      <div class="flex">
        <div class="grow">
          <pre tabindex="0" class="chroma px-4 py-3 whitespace-break-spaces"><code class="language-{{ .Type }}" data-lang="{{ .Type }}">{{- with transform.HighlightCodeBlock . -}}{{ .Inner }}{{- end -}}  </code></pre>
        </div>
      </div>
    {{- else }}
      <div class="flex">
        <pre tabindex="0" class="grow bg-black px-4 py-3"><code class="language-{{ .Type }}" data-lang="{{ .Type }}">{{ .Inner }}</code></pre>
      </div>
    {{- end }}
  </div>
</div>
